{% extends 'layout.html' %}
{% set active_page = "index" %}
{% block body %}
    <div class="jumbotron">
        <h2 class="typography-display-4">Carina</h2>
        <p align="justify">is a database of RNA post-transcriptional
            regulator involved in the cardiovascular system
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec
            odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla
            quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent
            mauris. Fusce nec tellus sed augue semper porta. Mauris massa.
            Vestibulum lacinia arcu eget nulla.
        </p>

        <form action="{{ url_for('index') }}" method="POST"
              enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-4">
                    <a class="btn btn-lg btn-info"
                       id="no-upload-go"
                       href="{{ url_for('index') }}"
                       title="Manual query">
                        Search</a>
                </div>
                {#  TODO does this buttom needs its  #}
                {#  TODO client side file validation #}
                <div class="col-md-4 col-md-offset-1">
                    <input type="file" class="input btn-lg" title="upload"
                           id="bedfile" name="bedfile">
                </div>
                <div class="col-md-4 col-md-offset-1">
                    <input class="btn btn-info disabled btn-lg"
                           disabled="True"
                           id="upload-go"
                           type="submit"
                           value="Go"
                           data-toggle="tooltip"
                           data-placement="bottom"
                           title="Search the database">
                </div>
            </div>
        </form>
    </div>
{% endblock %}

{% block extra_scripts %}
    <script src="{{ url_for('static', filename='js/bootstrap.file-input.js') }}"></script>
    <script type="text/javascript">
        function file_uploaded() {
            $('#upload-go').removeClass('disabled').addClass('btn-primary');
            $('#upload-go').prop('disabled', false);
            $('#no-upload-go').removeClass('btn-info').addClass('btn-default');
        }

        $(document).ready(function () {
            $('#bedfile').on('change', file_uploaded).bootstrapFileInput();
            $('#upload-go').disable();
        });
    </script>
{% endblock %}
